var Web3 = require("web3");
var web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:9545"));

var acc = web3.eth.accounts[0]; //get the first account

//Store this contract's compiled bytecode and ABI
var abi = [{"constant":true,"inputs":[{"name":"_id","type":"bytes32"}],"name":"getMovie","outputs":[{"name":"title","type":"string"},{"name":"category","type":"string"},{"name":"description","type":"string"},{"name":"imgUrl","type":"string"},{"name":"price","type":"uint256"},{"name":"quantity","type":"uint256"},{"name":"likes","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"withdrawAmount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getBalance","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"bytes32"}],"name":"likeMovie","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"kill","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"bytes32"},{"name":"_quantity","type":"uint256"}],"name":"getMoviePrice","outputs":[{"name":"price","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"bytes32"},{"name":"_quantity","type":"uint256"}],"name":"buyMovie","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"userGroups","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_title","type":"string"},{"name":"_category","type":"string"},{"name":"_description","type":"string"},{"name":"_imgUrl","type":"string"},{"name":"_price","type":"uint256"},{"name":"_quantity","type":"uint256"}],"name":"addMovie","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"tokenPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"bytes32"},{"name":"_title","type":"string"},{"name":"_category","type":"string"},{"name":"_description","type":"string"},{"name":"_imgUrl","type":"string"},{"name":"_price","type":"uint256"},{"name":"_quantity","type":"uint256"}],"name":"editMovie","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getMovieIds","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getGroupIds","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"buyTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_movieId","type":"bytes32"},{"name":"_quantity","type":"uint256"}],"name":"createGroupBuyMovie","outputs":[{"name":"buyMovieGroupId","type":"bytes32"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_groupId","type":"bytes32"},{"name":"_tokens","type":"uint256"}],"name":"groupBuyMovie","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"groups","outputs":[{"name":"groupId","type":"bytes32"},{"name":"movieId","type":"bytes32"},{"name":"totalPrice","type":"uint256"},{"name":"quantity","type":"uint256"},{"name":"remainingPrice","type":"uint256"},{"name":"available","type":"bool"},{"name":"finished","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amountWithdrawn","type":"uint256"}],"name":"Withdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"TransferTo","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}];
var bytecode = "60606040526012600360006101000a81548160ff021916908360ff1602179055506103e8600b5562b71b00600c556040805190810160405280600981526020017f4c696d65436861696e0000000000000000000000000000000000000000000000815250600d90805190602001906200007a929190620002f5565b506040805190810160405280600381526020017f4c4d4e0000000000000000000000000000000000000000000000000000000000815250600e9080519060200190620000c8929190620002f5565b503415620000d557600080fd5b600c54600d8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620001725780601f10620001465761010080835404028352916020019162000172565b820191906000526020600020905b8154815290600101906020018083116200015457829003601f168201915b5050505050600e8054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015620002115780601f10620001e55761010080835404028352916020019162000211565b820191906000526020600020905b815481529060010190602001808311620001f357829003601f168201915b5050505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600360009054906101000a900460ff1660ff16600a0a8302600481905550600454600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508160019080519060200190620002d2929190620002f5565b508060029080519060200190620002eb929190620002f5565b50505050620003a4565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200033857805160ff191683800117855562000369565b8280016001018555821562000369579182015b82811115620003685782518255916020019190600101906200034b565b5b5090506200037891906200037c565b5090565b620003a191905b808211156200039d57600081600090555060010162000383565b5090565b90565b61392a80620003b46000396000f30060606040526004361061015f576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806301e1471d146101645780630562b9f71461035d57806306fdde031461038057806312065fe01461040e57806318160ddd146104375780632ccb1b3014610460578063313ce567146104a257806332839e85146104d15780633ccfd60b146104f857806341c0e1b51461050d5780634f3252dc146105225780635e39f3d81461056657806360a9e097146105965780636a4530ba146105f457806370a082311461072c5780637ff9b5961461077957806381a71c77146107a25780638da5cb5b146108e757806395d89b411461093c578063b4294852146109ca578063beabacc814610a34578063c02b8b2c14610a95578063d0febe4c14610aff578063e08b5ec614610b09578063e26ea6af14610b55578063ef161bcb14610b85578063f2fde38b14610c02575b600080fd5b341561016f57600080fd5b610189600480803560001916906020019091905050610c3b565b604051808060200180602001806020018060200188815260200187815260200186815260200185810385528c818151815260200191508051906020019080838360005b838110156101e75780820151818401526020810190506101cc565b50505050905090810190601f1680156102145780820380516001836020036101000a031916815260200191505b5085810384528b818151815260200191508051906020019080838360005b8381101561024d578082015181840152602081019050610232565b50505050905090810190601f16801561027a5780820380516001836020036101000a031916815260200191505b5085810383528a818151815260200191508051906020019080838360005b838110156102b3578082015181840152602081019050610298565b50505050905090810190601f1680156102e05780820380516001836020036101000a031916815260200191505b50858103825289818151815260200191508051906020019080838360005b838110156103195780820151818401526020810190506102fe565b50505050905090810190601f1680156103465780820380516001836020036101000a031916815260200191505b509b50505050505050505050505060405180910390f35b341561036857600080fd5b61037e6004808035906020019091905050610f73565b005b341561038b57600080fd5b61039361110f565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103d35780820151818401526020810190506103b8565b50505050905090810190601f1680156104005780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561041957600080fd5b6104216111ad565b6040518082815260200191505060405180910390f35b341561044257600080fd5b61044a6111cc565b6040518082815260200191505060405180910390f35b341561046b57600080fd5b6104a0600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506111d2565b005b34156104ad57600080fd5b6104b5611325565b604051808260ff1660ff16815260200191505060405180910390f35b34156104dc57600080fd5b6104f6600480803560001916906020019091905050611338565b005b341561050357600080fd5b61050b61140e565b005b341561051857600080fd5b610520611592565b005b341561052d57600080fd5b610550600480803560001916906020019091908035906020019091905050611627565b6040518082815260200191505060405180910390f35b341561057157600080fd5b6105946004808035600019169060200190919080359060200190919050506116c3565b005b34156105a157600080fd5b6105d6600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506117e5565b60405180826000191660001916815260200191505060405180910390f35b34156105ff57600080fd5b61072a600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091908035906020019091908035906020019091905050611816565b005b341561073757600080fd5b610763600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611a9c565b6040518082815260200191505060405180910390f35b341561078457600080fd5b61078c611ab4565b6040518082815260200191505060405180910390f35b34156107ad57600080fd5b6108e560048080356000191690602001909190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091908035906020019091908035906020019091905050611aba565b005b34156108f257600080fd5b6108fa611bbd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561094757600080fd5b61094f611be2565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561098f578082015181840152602081019050610974565b50505050905090810190601f1680156109bc5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156109d557600080fd5b6109dd611c80565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610a20578082015181840152602081019050610a05565b505050509050019250505060405180910390f35b3415610a3f57600080fd5b610a93600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611ce2565b005b3415610aa057600080fd5b610aa8611ff8565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610aeb578082015181840152602081019050610ad0565b505050509050019250505060405180910390f35b610b0761205a565b005b3415610b1457600080fd5b610b376004808035600019169060200190919080359060200190919050506120ef565b60405180826000191660001916815260200191505060405180910390f35b3415610b6057600080fd5b610b836004808035600019169060200190919080359060200190919050506123e7565b005b3415610b9057600080fd5b610baa600480803560001916906020019091905050612886565b6040518088600019166000191681526020018760001916600019168152602001868152602001858152602001848152602001831515151581526020018215151515815260200197505050505050505060405180910390f35b3415610c0d57600080fd5b610c39600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506128e2565b005b610c43613586565b610c4b613586565b610c53613586565b610c5b613586565b60008060008060008960066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff161515610c9b57600080fd5b600660008c600019166000191681526020019081526020016000209250610cca83600501548460060154612a37565b9150826001018360020184600301856004018587600601548860070154868054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d7c5780601f10610d5157610100808354040283529160200191610d7c565b820191906000526020600020905b815481529060010190602001808311610d5f57829003601f168201915b50505050509650858054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e185780601f10610ded57610100808354040283529160200191610e18565b820191906000526020600020905b815481529060010190602001808311610dfb57829003601f168201915b50505050509550848054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610eb45780601f10610e8957610100808354040283529160200191610eb4565b820191906000526020600020905b815481529060010190602001808311610e9757829003601f168201915b50505050509450838054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f505780601f10610f2557610100808354040283529160200191610f50565b820191906000526020600020905b815481529060010190602001808311610f3357829003601f168201915b505050505093509950995099509950995099509950505050919395979092949650565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610fd057600080fd5b3073ffffffffffffffffffffffffffffffffffffffff163190503073ffffffffffffffffffffffffffffffffffffffff1631821115151561101057600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050151561107157600080fd5b3073ffffffffffffffffffffffffffffffffffffffff16316110938284612aac565b14151561109c57fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a9424364836040518082815260200191505060405180910390a25050565b60018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111a55780601f1061117a576101008083540402835291602001916111a5565b820191906000526020600020905b81548152906001019060200180831161118857829003601f168201915b505050505081565b60003073ffffffffffffffffffffffffffffffffffffffff1631905090565b60045481565b60008273ffffffffffffffffffffffffffffffffffffffff16141515156111f857600080fd5b600560008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020540111151561128657600080fd5b80600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff167f845850991963cc258a0464dadcae66e59e72e9883beb28e5ea89a547df58eaff826040518082815260200191505060405180910390a25050565b600360009054906101000a900460ff1681565b8060066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff16151561137057600080fd5b8160066000826000191660001916815260200190815260200160002060090160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515156113e657600080fd5b611409600660008560001916600019168152602001908152602001600020612ac5565b505050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561146b57600080fd5b3073ffffffffffffffffffffffffffffffffffffffff163190506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f1935050505015156114fd57600080fd5b60003073ffffffffffffffffffffffffffffffffffffffff163114151561152057fe5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f884edad9ce6fa2440d8a54cc123490eb96d2768479d49ff9c7366125a9424364826040518082815260200191505060405180910390a250565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156115ed57600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b60008260066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff16151561166157600080fd5b600660008560001916600019168152602001908152602001600020600601548380821015151561169057600080fd5b6116b86006600088600019166000191681526020019081526020016000206005015486612a37565b935050505092915050565b60008060008460066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff16151561170057600080fd5b60066000876000191660001916815260200190815260200160002093508360060154851115151561173057600080fd5b61174284600501548560060154612a37565b925061174e8584612c18565b9150600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054821115151561179e57600080fd5b6117ca336000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684611ce2565b6117dd8585612c5390919063ffffffff16565b505050505050565b60086020528160005260406000208181548110151561180057fe5b9060005260206000209001600091509150505481565b6000806000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561187457600080fd5b6001430340915033884284604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140184805190602001908083835b6020831015156118f557805182526020820191506020810190506020830392506118d0565b6001836020036101000a03801982511681845116808217855250505050505090500183815260200182600019166000191681526020019450505050506040518091039020905060066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff1615151561197357600080fd5b61198281898989898989612d66565b6006600083600019166000191681526020019081526020016000206000820151816000019060001916905560208201518160010190805190602001906119c992919061359a565b5060408201518160020190805190602001906119e692919061359a565b506060820151816003019080519060200190611a0392919061359a565b506080820151816004019080519060200190611a2092919061359a565b5060a0820151816005015560c0820151816006015560e082015181600701556101008201518160080160006101000a81548160ff02191690831515021790555090505060098054806001018281611a77919061361a565b9160005260206000209001600083909190915090600019169055505050505050505050565b60056020528060005260406000206000915090505481565b600b5481565b611ac2613646565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611b1d57600080fd5b8760066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff161515611b5557600080fd5b60c060405190810160405280898152602001888152602001878152602001868152602001858152602001848152509150611bb282600660008c60001916600019168152602001908152602001600020612e7e90919063ffffffff16565b505050505050505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60028054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c785780601f10611c4d57610100808354040283529160200191611c78565b820191906000526020600020905b815481529060010190602001808311611c5b57829003601f168201915b505050505081565b611c88613695565b6009805480602002602001604051908101604052809291908181526020018280548015611cd857602002820191906000526020600020905b81546000191681526020019060010190808311611cc0575b5050505050905090565b6000808373ffffffffffffffffffffffffffffffffffffffff1614151515611d0957600080fd5b81600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515611d5757600080fd5b600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401111515611de557600080fd5b600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401905081600560008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555081600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a380600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600560008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205401141515611ff257fe5b50505050565b612000613695565b600a80548060200260200160405190810160405280929190818152602001828054801561205057602002820191906000526020600020905b81546000191681526020019060010190808311612038575b5050505050905090565b600080670de0b6b3a76400003481151561207057fe5b0411151561207d57600080fd5b6000670de0b6b3a76400003481151561209257fe5b0614151561209f57600080fd5b6120be670de0b6b3a7640000348115156120b557fe5b04600b54612c18565b90506120ec6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff163383611ce2565b50565b6000806000806000806121006136a9565b8860066000826000191660001916815260200190815260200160002060080160009054906101000a900460ff16151561213857600080fd5b600660008b6000191660001916815260200190815260200160002096508660060154891115151561216857600080fd5b61217a87600501548860060154612a37565b95506121868987612c18565b94506001430340935033894286604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140184815260200183815260200182600019166000191681526020019450505050506040518091039020925060076000846000191660001916815260200190815260200160002060050160009054906101000a900460ff1615151561223a57600080fd5b61010060405190810160405280846000191681526020018b6000191681526020018681526020018a815260200186815260200160011515815260200160001515815260200183815250600760008560001916600019168152602001908152602001600020600082015181600001906000191690556020820151816001019060001916905560408201518160020155606082015181600301556080820151816004015560a08201518160050160006101000a81548160ff02191690831515021790555060c08201518160050160016101000a81548160ff02191690831515021790555060e08201518160070190805190602001906123389291906136bd565b50905050600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480600101828161238d919061361a565b916000526020600020900160008590919091509060001916905550600a80548060010182816123bc919061361a565b9160005260206000209001600085909190915090600019169055508297505050505050505092915050565b60008260076000826000191660001916815260200190815260200160002060050160009054906101000a900460ff16151561242157600080fd5b8360076000826000191660001916815260200190815260200160002060050160019054906101000a900460ff1615151561245a57600080fd5b600760008660001916600019168152602001908152602001600020925060008411151561248657600080fd5b83600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101515156124d457600080fd5b60008360060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541415612584578260070180548060010182816125349190613747565b9160005260206000209001600033909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b8260040154841015156127a5578260040154600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555082600401548360060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055506000836004018190555060018360050160016101000a81548160ff0219169083151502179055506127a08361010060405190810160405290816000820154600019166000191681526020016001820154600019166000191681526020016002820154815260200160038201548152602001600482015481526020016005820160009054906101000a900460ff161515151581526020016005820160019054906101000a900460ff161515151581526020016007820180548060200260200160405190810160405280929190818152602001828054801561276a57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311612720575b5050505050815250506006600086600101546000191660001916815260200190815260200160002061339e90919063ffffffff16565b612854565b838360060160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555083600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508383600401600082825403925050819055505b61287f6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff16856111d2565b5050505050565b60076020528060005260406000206000915090508060000154908060010154908060020154908060030154908060040154908060050160009054906101000a900460ff16908060050160019054906101000a900460ff16905087565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561293d57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561297957600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000600a8210158015612a4b575060198211155b15612a6257612a5b836002612c18565b9250612aa3565b60058210158015612a735750600a82105b15612a8a57612a83836003612c18565b9250612aa2565b6005821015612aa157612a9e836004612c18565b92505b5b5b82905092915050565b6000828211151515612aba57fe5b818303905092915050565b60018160090160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550612b2e816007015460016134fc565b81600701819055503373ffffffffffffffffffffffffffffffffffffffff167f77e48626401ba85a69f2da085de31925a2387f4a9e86351e6f10c6f6266ff7418260010183600701546040518080602001838152602001828103825284818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015612c065780601f10612bdb57610100808354040283529160200191612c06565b820191906000526020600020905b815481529060010190602001808311612be957829003601f168201915b5050935050505060405180910390a250565b6000806000841415612c2d5760009150612c4c565b8284029050828482811515612c3e57fe5b04141515612c4857fe5b8091505b5092915050565b6000612c63836006015483612aac565b90503373ffffffffffffffffffffffffffffffffffffffff167f319a7d8d8c16512165d984f420192fc3a876d2ee3ae0150cbd549d1c68fd55518460010185600501548660060154856040518080602001858152602001848152602001838152602001828103825286818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015612d475780601f10612d1c57610100808354040283529160200191612d47565b820191906000526020600020905b815481529060010190602001808311612d2a57829003601f168201915b50509550505050505060405180910390a2808360060181905550505050565b612d6e613773565b612d7c87878787878761351a565b7f14d0d9c5ed0d9924de71a02d946011c393023dc1bbb398a3c721029c0452d12a8784846040518080602001848152602001838152602001828103825285818151815260200191508051906020019080838360005b83811015612dec578082015181840152602081019050612dd1565b50505050905090810190601f168015612e195780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a1610120604051908101604052808960001916815260200188815260200187815260200186815260200185815260200184815260200183815260200160008152602001600115158152509050979650505050505050565b612ea4816000015182602001518360400151846060015185608001518660a0015161351a565b80600001516040518082805190602001908083835b602083101515612ede5780518252602082019150602081019050602083039250612eb9565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826001016040518082805460018160011615610100020316600290048015612f6e5780601f10612f4c576101008083540402835291820191612f6e565b820191906000526020600020905b815481529060010190602001808311612f5a575b5050915050604051809103902060001916141515612fa4578060000151826001019080519060200190612fa29291906137dd565b505b80602001516040518082805190602001908083835b602083101515612fde5780518252602082019150602081019050602083039250612fb9565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191682600201604051808280546001816001161561010002031660029004801561306e5780601f1061304c57610100808354040283529182019161306e565b820191906000526020600020905b81548152906001019060200180831161305a575b50509150506040518091039020600019161415156130a45780602001518260020190805190602001906130a29291906137dd565b505b80604001516040518082805190602001908083835b6020831015156130de57805182526020820191506020810190506020830392506130b9565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191682600301604051808280546001816001161561010002031660029004801561316e5780601f1061314c57610100808354040283529182019161316e565b820191906000526020600020905b81548152906001019060200180831161315a575b50509150506040518091039020600019161415156131a45780604001518260030190805190602001906131a29291906137dd565b505b80606001516040518082805190602001908083835b6020831015156131de57805182526020820191506020810190506020830392506131b9565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191682600401604051808280546001816001161561010002031660029004801561326e5780601f1061324c57610100808354040283529182019161326e565b820191906000526020600020905b81548152906001019060200180831161325a575b50509150506040518091039020600019161415156132a45780606001518260040190805190602001906132a29291906137dd565b505b806080015182600501541415156132c357806080015182600501819055505b8060a0015182600601541415156132e2578060a0015182600601819055505b7f51f5a2261c004e3dc9730af4953cbf90f2ec6a5afa7c306cd99eed1c7db1d35e816000015182608001518360a001516040518080602001848152602001838152602001828103825285818151815260200191508051906020019080838360005b8381101561335e578082015181840152602081019050613343565b50505050905090810190601f16801561338b5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a15050565b600081606001518360060154101515156133b757600080fd5b6133c983600601548360600151612aac565b90508160e0015160405180828051906020019060200280838360005b838110156134005780820151818401526020810190506133e5565b5050505090500191505060405180910390207f969433c7f84daf7efcc6e4be204d2b4f4eadde2e9991f1fd7046bbbb1622fc9584600101846040015186600601548560405180806020018581526020018481526020018381526020018281038252868181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156134dd5780601f106134b2576101008083540402835291602001916134dd565b820191906000526020600020905b8154815290600101906020018083116134c057829003601f168201915b50509550505050505060405180910390a2808360060181905550505050565b600080828401905083811015151561351057fe5b8091505092915050565b600086511415151561352b57600080fd5b600085511415151561353c57600080fd5b600084511415151561354d57600080fd5b600083511415151561355e57600080fd5b6001821015151561356e57600080fd5b6001811015151561357e57600080fd5b505050505050565b602060405190810160405280600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106135db57805160ff1916838001178555613609565b82800160010185558215613609579182015b828111156136085782518255916020019190600101906135ed565b5b509050613616919061385d565b5090565b815481835581811511613641578183600052602060002091820191016136409190613882565b5b505050565b60c06040519081016040528061365a6138a7565b81526020016136676138a7565b81526020016136746138a7565b81526020016136816138a7565b815260200160008152602001600081525090565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b828054828255906000526020600020908101928215613736579160200282015b828111156137355782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550916020019190600101906136dd565b5b50905061374391906138bb565b5090565b81548183558181151161376e5781836000526020600020918201910161376d919061385d565b5b505050565b61012060405190810160405280600080191681526020016137926138a7565b815260200161379f6138a7565b81526020016137ac6138a7565b81526020016137b96138a7565b81526020016000815260200160008152602001600081526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061381e57805160ff191683800117855561384c565b8280016001018555821561384c579182015b8281111561384b578251825591602001919060010190613830565b5b509050613859919061385d565b5090565b61387f91905b8082111561387b576000816000905550600101613863565b5090565b90565b6138a491905b808211156138a0576000816000905550600101613888565b5090565b90565b602060405190810160405280600081525090565b6138fb91905b808211156138f757600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016138c1565b5090565b905600a165627a7a723058203ce67a8c23630fccf75e9179e412b36100229c0fd28b2e237dd9fb1a348d64130029";

//create the contract instance. We can use this instance to publish or connect to a published contract
var Contract = web3.eth.contract(abi);

//create a JS Object (key-value pairs), holding the data we need to publish our contract
var publishData = {
	"from": acc, //the account from which it will be published
	"data": bytecode,
	"gas": 4700000 //gas limit. This should be the same or lower than Ethereum's gas limit
}

//publish the contract, passing a callback that will be called twice. Once when the transaction is sent, and once when it is mined
//the first argument is the constructor argument
Contract.new(publishData, function(err, contractInstance) {
	if(!err) {
		if(contractInstance.address) { //if the contract has an address aka if the transaction is mined
			console.log("New contract address is :", contractInstance.address);
		}
	} else {
		console.error(err); //something went wrong
	}
});
